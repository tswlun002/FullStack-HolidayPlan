ARG JWT_SIGNING_KEY
ARG DEFAULT_ROLE
ARG DEFAULT_PERMISSIONS
ARG DEFAULT_USER
ARG JWT_ACCESS_TOKEN_PERIOD
ARG JWT_REFRESH_TOKEN_PERIOD
ARG APP
ARG ADDRESS
ARG SOCIALS
FROM maven:3.8.3-openjdk-17
LABEL authors="l.tsewu"
WORKDIR /opt
ARG DEFAULT_ROLE
ARG DEFAULT_PERMISSIONS
ARG JWT_SIGNING_KEY
ARG DEFAULT_USER
ARG JWT_ACCESS_TOKEN_PERIOD
ARG JWT_REFRESH_TOKEN_PERIOD
ARG APP
ARG ADDRESS
ARG SOCIALS
ENV jwt.signing.key=${JWT_SIGNING_KEY}
ENV role.default.names=${DEFAULT_ROLE}
ENV permission.default.names=${DEFAULT_PERMISSIONS}
ENV user.default.user=${DEFAULT_USER}
ENV jwt.access.token.period=${JWT_ACCESS_TOKEN_PERIOD}
ENV jwt.refresh.token.period=${JWT_REFRESH_TOKEN_PERIOD}
ENV app.details=${APP}
ENV app.address=${ADDRESS}
ENV app.socials=${SOCIALS}
COPY target/*.jar /opt/app.jar
ENTRYPOINT exec java $JAVA_OPTS -jar app.jar

